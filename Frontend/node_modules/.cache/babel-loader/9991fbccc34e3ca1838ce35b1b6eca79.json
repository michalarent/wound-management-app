{"ast":null,"code":"var _jsxFileName = \"/Users/michalarent/Documents/TIN-project/Frontend/src/songs/components/WoundTable.js\";\nimport React, { useState, useEffect } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport { useContext } from \"react\";\nimport { AuthContext } from \"../../shared/context/auth-context\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { Button } from \"@material-ui/core\";\nimport { DataGrid } from \"@material-ui/data-grid\";\nimport { useTheme } from \"@material-ui/core/styles\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableContainer from \"@material-ui/core/TableContainer\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport Paper from \"@material-ui/core/Paper\";\nimport PageviewIcon from \"@material-ui/icons/Pageview\";\nimport Modal from \"@material-ui/core/Modal\";\nimport \"./WoundTable.css\";\nimport WoundItem from \"./WoundItem\";\nimport { set } from \"mongoose\";\nconst useStyles = makeStyles(theme => ({\n  table: {\n    minWidth: 650\n  },\n  paper: {\n    position: \"absolute\",\n    width: 400,\n    backgroundColor: theme.palette.background.paper,\n    border: \"2px solid #000\",\n    boxShadow: theme.shadows[5],\n    padding: theme.spacing(2, 4, 3) // top: `${top}%`,\n    // margin: \"auto\",\n\n  }\n}));\n\nfunction rand() {\n  return Math.round(Math.random() * 20) - 10;\n}\n\nfunction getModalStyle() {\n  const top = 50 + rand();\n  const left = 50 + rand();\n  return {\n    top: `${top}%`,\n    left: `${left}%`,\n    transform: `translate(-${top}%, -${left}%)`\n  };\n}\n\nvar rows = [];\n\nconst WoundTable = () => {\n  //   this.state = {\n  //     data: \"\",\n  //   };\n  const auth = useContext(AuthContext);\n  const userId = useParams().userId;\n  const [loadedWounds, setLoadedWounds] = useState([]);\n  const [currentRow, setCurrentRow] = useState([]);\n  useEffect(() => {\n    const sendRequest = async () => {\n      const response = await fetch(`http://localhost:5000/api/wounds/user/${userId}`);\n      const responseData = await response.json();\n\n      if (!response.ok) {} else {\n        setLoadedWounds(responseData.wound);\n        console.log(`Row below`);\n        setCurrentRow(responseData.wound[0][0]);\n        console.log(currentRow);\n      }\n    };\n\n    sendRequest();\n  }, []);\n  const [open, setOpen] = React.useState(false);\n  const [valueofRow, setValueOfRow] = React.useState();\n\n  const handleClickOpen = value => {\n    console.log(open);\n\n    if (!open) {\n      setOpen(true);\n      setValueOfRow(value);\n    }\n  };\n\n  const handleClose = () => {\n    // if(open===true) {\n    setOpen(false); // }\n  };\n\n  const handleClick = (id, column) => {\n    return event => {\n      console.log(`You clicked on row with id ${id}, in column ${column}.`);\n    };\n  };\n\n  const classes = useStyles();\n  var self = this; //   Cell: e => {\n  //     console.log(e) // viewIndex here\n  //     return e.original.name\n  //   }\n\n  function handleCellClick(rowNumber, columnNumber, evt) {\n    console.log(\"activityId\", evt.target.dataset.myRowIdentifier);\n  }\n\n  const columns = [{\n    field: \"id\",\n    headerName: \"ID\",\n    width: 200\n  }, {\n    field: \"name\",\n    headerName: \"First name\",\n    width: 130\n  }, {\n    field: \"bodyPart\",\n    headerName: \"Body part\",\n    width: 130\n  }, {\n    field: \"description\",\n    headerName: \"Description\",\n    description: \"This column has a value getter and is not sortable.\",\n    sortable: false,\n    width: 160\n  }, {\n    field: \"dateCreated\"\n  }];\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(TableContainer, {\n    component: Paper,\n    className: \"table\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Table, {\n    className: classes.table,\n    \"aria-label\": \"simple table\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(TableHead, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(TableRow, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(TableCell, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 15\n    }\n  }, \"Name\"), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 15\n    }\n  }, \"Body Part\"), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 15\n    }\n  }, \"Description\"), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 15\n    }\n  }, \"Last Edited\"), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 15\n    }\n  }, \"Created On\"), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 15\n    }\n  }))), /*#__PURE__*/React.createElement(TableBody, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 11\n    }\n  }, loadedWounds.map(loadedWound => /*#__PURE__*/React.createElement(TableRow, {\n    key: loadedWound.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(TableCell, {\n    component: \"th\",\n    scope: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 17\n    }\n  }, loadedWound.name), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 17\n    }\n  }, loadedWound.bodyPart), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 17\n    }\n  }, loadedWound.description), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 17\n    }\n  }, loadedWound.dateLastEdited), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 17\n    }\n  }, loadedWound.dateCreated), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    type: \"button\",\n    onClick: handleClickOpen(loadedWound.id),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 19\n    }\n  }, \"Open Modal\"), /*#__PURE__*/React.createElement(Modal, {\n    open: false,\n    onClose: handleClose,\n    \"aria-labelledby\": \"simple-modal-title\",\n    \"aria-describedby\": \"simple-modal-description\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(WoundItem //   key={currentRow.id}\n  , {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 21\n    }\n  })))))))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"table\",\n    style: {\n      height: 400,\n      width: \"100%\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(DataGrid, {\n    rows: loadedWounds,\n    columns: columns,\n    pageSize: 5 //   checkboxSelection\n    ,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 9\n    }\n  })));\n};\n\nexport default WoundTable;","map":{"version":3,"sources":["/Users/michalarent/Documents/TIN-project/Frontend/src/songs/components/WoundTable.js"],"names":["React","useState","useEffect","useParams","useContext","AuthContext","makeStyles","Button","DataGrid","useTheme","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","Paper","PageviewIcon","Modal","WoundItem","set","useStyles","theme","table","minWidth","paper","position","width","backgroundColor","palette","background","border","boxShadow","shadows","padding","spacing","rand","Math","round","random","getModalStyle","top","left","transform","rows","WoundTable","auth","userId","loadedWounds","setLoadedWounds","currentRow","setCurrentRow","sendRequest","response","fetch","responseData","json","ok","wound","console","log","open","setOpen","valueofRow","setValueOfRow","handleClickOpen","value","handleClose","handleClick","id","column","event","classes","self","handleCellClick","rowNumber","columnNumber","evt","target","dataset","myRowIdentifier","columns","field","headerName","description","sortable","map","loadedWound","name","bodyPart","dateLastEdited","dateCreated","height"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport { useContext } from \"react\";\nimport { AuthContext } from \"../../shared/context/auth-context\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { Button } from \"@material-ui/core\";\nimport { DataGrid } from \"@material-ui/data-grid\";\n\nimport { useTheme } from \"@material-ui/core/styles\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableContainer from \"@material-ui/core/TableContainer\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\n\nimport Paper from \"@material-ui/core/Paper\";\nimport PageviewIcon from \"@material-ui/icons/Pageview\";\nimport Modal from \"@material-ui/core/Modal\";\n\nimport \"./WoundTable.css\";\nimport WoundItem from \"./WoundItem\";\nimport { set } from \"mongoose\";\n\nconst useStyles = makeStyles((theme) => ({\n  table: {\n    minWidth: 650,\n  },\n  paper: {\n    position: \"absolute\",\n    width: 400,\n    backgroundColor: theme.palette.background.paper,\n    border: \"2px solid #000\",\n    boxShadow: theme.shadows[5],\n    padding: theme.spacing(2, 4, 3),\n    // top: `${top}%`,\n    // margin: \"auto\",\n  },\n}));\n\nfunction rand() {\n  return Math.round(Math.random() * 20) - 10;\n}\n\nfunction getModalStyle() {\n  const top = 50 + rand();\n  const left = 50 + rand();\n\n  return {\n    top: `${top}%`,\n    left: `${left}%`,\n    transform: `translate(-${top}%, -${left}%)`,\n  };\n}\n\nvar rows = [];\n\nconst WoundTable = () => {\n  //   this.state = {\n  //     data: \"\",\n  //   };\n  const auth = useContext(AuthContext);\n  const userId = useParams().userId;\n  const [loadedWounds, setLoadedWounds] = useState([]);\n  const [currentRow, setCurrentRow] = useState([]);\n  useEffect(() => {\n    const sendRequest = async () => {\n      const response = await fetch(\n        `http://localhost:5000/api/wounds/user/${userId}`\n      );\n      const responseData = await response.json();\n      if (!response.ok) {\n      } else {\n        setLoadedWounds(responseData.wound);\n        console.log(`Row below`);\n        setCurrentRow(responseData.wound[0][0]);\n        console.log(currentRow);\n      }\n    };\n    sendRequest();\n  }, []);\n\n  const [open, setOpen] = React.useState(false);\n  const [valueofRow, setValueOfRow] = React.useState();\n\n  const handleClickOpen = (value) => {\n      console.log(open);\n      if (!open) {\n        setOpen(true);\n        setValueOfRow(value);\n        \n      }\n    \n  };\n\n  const handleClose = () => {\n    // if(open===true) {\n    setOpen(false);\n    // }\n  };\n\n  const handleClick = (id, column) => {\n    return (event) => {\n      console.log(`You clicked on row with id ${id}, in column ${column}.`);\n    };\n  };\n\n  const classes = useStyles();\n\n  var self = this;\n\n  //   Cell: e => {\n  //     console.log(e) // viewIndex here\n  //     return e.original.name\n  //   }\n\n  function handleCellClick(rowNumber, columnNumber, evt) {\n    console.log(\"activityId\", evt.target.dataset.myRowIdentifier);\n  }\n\n  const columns = [\n    { field: \"id\", headerName: \"ID\", width: 200 },\n    { field: \"name\", headerName: \"First name\", width: 130 },\n    { field: \"bodyPart\", headerName: \"Body part\", width: 130 },\n    {\n      field: \"description\",\n      headerName: \"Description\",\n      description: \"This column has a value getter and is not sortable.\",\n      sortable: false,\n      width: 160,\n    },\n    { field: \"dateCreated\" },\n  ];\n\n  return (\n    <>\n      <TableContainer component={Paper} className=\"table\">\n        <Table\n          className={classes.table}\n          aria-label=\"simple table\"\n        >\n          <TableHead>\n            <TableRow>\n              <TableCell>Name</TableCell>\n              <TableCell align=\"right\">Body Part</TableCell>\n              <TableCell align=\"right\">Description</TableCell>\n              <TableCell align=\"right\">Last Edited</TableCell>\n              <TableCell align=\"right\">Created On</TableCell>\n              <TableCell align=\"right\"></TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            {loadedWounds.map((loadedWound) => (\n              <TableRow key={loadedWound.id}>\n                <TableCell component=\"th\" scope=\"row\">\n                  {loadedWound.name}\n                </TableCell>\n                <TableCell align=\"right\">{loadedWound.bodyPart}</TableCell>\n                <TableCell align=\"right\">{loadedWound.description}</TableCell>\n                <TableCell align=\"right\">\n                  {loadedWound.dateLastEdited}\n                </TableCell>\n                <TableCell align=\"right\">{loadedWound.dateCreated}</TableCell>\n                <TableCell align=\"right\">\n                  <Button\n                    type=\"button\"\n                    onClick={handleClickOpen(loadedWound.id)}\n                  >\n                    Open Modal\n                  </Button>\n                  <Modal\n                    open={false}\n                    onClose={handleClose}\n                    aria-labelledby=\"simple-modal-title\"\n                    aria-describedby=\"simple-modal-description\"\n                  >\n                    <WoundItem\n                    //   key={currentRow.id}\n                    />\n                  </Modal>\n                </TableCell>\n              </TableRow>\n            ))}\n          </TableBody>\n        </Table>\n      </TableContainer>\n      <div className=\"table\" style={{ height: 400, width: \"100%\" }}>\n        <DataGrid\n          rows={loadedWounds}\n          columns={columns}\n          pageSize={5}\n          //   checkboxSelection\n        />\n      </div>\n    </>\n  );\n};\n\nexport default WoundTable;\n"]},"metadata":{},"sourceType":"module"}